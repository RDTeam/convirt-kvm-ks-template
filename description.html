<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="LibreOffice 3.3  (Linux)">
	<META NAME="CREATED" CONTENT="0;0">
	<META NAME="CHANGEDBY" CONTENT="Stanislav Hanzhin">
	<META NAME="CHANGED" CONTENT="20110718;20385200">
</HEAD>
<BODY LANG="ru-RU" DIR="LTR">
<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="serif">Kickstart/VirtInstall
template</FONT></FONT></P>
<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><FONT COLOR="#0000ff"><FONT FACE="serif">Provisioning
through kickstart and virt-install script</FONT></FONT></P>
<P ALIGN=LEFT><FONT COLOR="#0000ff"><FONT FACE="serif">Type:
</FONT></FONT><FONT COLOR="#000000"><FONT FACE="serif"><FONT SIZE=3>P</FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="serif"><FONT SIZE=3>rovisioning
Template</FONT></FONT></FONT><BR><FONT COLOR="#0000ff"><FONT FACE="serif">Version:
</FONT></FONT><FONT COLOR="#000000"><FONT FACE="serif"><FONT SIZE=3>1.0</FONT></FONT></FONT><BR><FONT COLOR="#0000ff"><FONT FACE="serif">Author:
</FONT></FONT><FONT COLOR="#000000"><FONT FACE="serif"><FONT SIZE=3>Stanislav
Hanzhin</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="line-height: 100%"><FONT COLOR="#0000ff"><FONT FACE="serif">Description:</FONT></FONT></P>
<P ALIGN=LEFT STYLE="line-height: 100%"><FONT COLOR="#000000"><FONT FACE="serif">Template
consists of custom provision.sh script and custom_scripts contents:
virt-install.py and ks.template. Virt-install.py is a script that
gets parameters for provisioning, and ks.template is a sample
kickstart template.</FONT></FONT></P>
<P ALIGN=LEFT STYLE="line-height: 100%"><FONT COLOR="#000000"><FONT FACE="serif">First,
 virt-install.py creates kickstart file and makes a simple scriptlet
generating kickstart image of 1440 bytes. Next, virt-install.py runs
virt-install from python-virtinst package and creates a kvm virtual
machine that installs itself from a mirror using kickstart.</FONT></FONT></P>
<P ALIGN=LEFT><FONT COLOR="#0000ff"><FONT FACE="serif">Known issues:</FONT></FONT></P>
<P ALIGN=LEFT><FONT COLOR="#000000"><FONT FACE="serif">#1. Can't add
more than 1 HDD.</FONT></FONT></P>
<P ALIGN=LEFT><FONT COLOR="#000000"><FONT FACE="serif">#2. Can't
provide DNS host during provisioning.</FONT></FONT></P>
<P ALIGN=LEFT><FONT COLOR="#000000"><FONT FACE="serif">See more and
report on <A HREF="https://github.com/hanzhinstas/convirt-kvm-ks-template/issues/">github</A>.</FONT></FONT></P>
<P ALIGN=LEFT STYLE="line-height: 100%"><FONT COLOR="#0000ff"><FONT FACE="serif">Notes:</FONT></FONT></P>
<P ALIGN=LEFT STYLE="line-height: 100%"><FONT COLOR="#000000"><FONT FACE="serif">Tested
on CentOS 5.5.</FONT></FONT></P>
<P ALIGN=LEFT><FONT COLOR="#0000ff"><FONT FACE="serif">Instructions:</FONT></FONT></P>
<P ALIGN=LEFT><FONT COLOR="#000000"><FONT SIZE=3><FONT FACE="serif">Install
template directly to image_store of your convirture installation,
restart CMS and you will see VirtInstall template in Template
Library. Right-click on template and select Provision. Provide
instance name and adjust parameters such as hdd size custom packages
etc in Template Parameters.</FONT></FONT></FONT></P>
<P ALIGN=LEFT><BR><BR>
</P>
</BODY>
</HTML>